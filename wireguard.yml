# vim: ft=yaml.ansible
---
- name: "Setup wireguard"
  become: true
  hosts: "uranus"
  roles:
    - role: "wireguard"
      wg_port: 17178
      wg_address: "10.9.0.1/24"
      wg_trusted_address: "10.9.0.1/25"
      wg_interface: "enp7s0"
      wg_private_key: !vault |
        $ANSIBLE_VAULT;1.1;AES256
        66333832653937373338633939663631656535336161303561336437313633646664373831396564
        3664646131313462363865633966633064343435366262650a343965646339303331613631366365
        36356335366164373966363533326337666565333533633361623132323132653530326464383537
        6338383663633563320a613533323765613363363030656639613662323062366463626362376437
        61643238303036356537643064343161373764313137313638373939373930396533663432323034
        3932666662303033363366376634663136333735636330353932

      wg_peers:
        # iPad
        - address: "10.9.0.4/32"
          public_key: "yfV87QvRJvNLHfE/9228blXlHispzP92MoNG4cRHkCA="
          preshared_key: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            38343032646632303764643737356430366161323736643939646263616438663430373333663531
            6231383266313932393364666130636464383433656432360a366563333261666338383730313135
            38343235653135303263653936346531383832356430666438623061356161663663346534626261
            6338323365633236620a306238303631666636623861396231303663316663346361333537343732
            64386633353935396333643565363934336630396264646631373361613163326233336333646162
            3066393263333437636635373235303436353664316435633432

        # Pixel 3
        - address: "10.9.0.5/32"
          public_key: "r3kLXdXYgFVdT7GacWrJvpwkHBDz+PdKpF+/3j7gYXk="
          preshared_key: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            33626564346365366261336132326566663337373134316533386663306464353561386439333835
            3466646161616139333634376462646536343637636531640a323934393232393263343636323337
            34663135323238653563663035326261636239333965613065353564323661636466363162633461
            6636663832326339350a626262303537643432316230303564333435623936313164636639636234
            35353661656232633863393461613563633337643130616332636437393734653833633134333362
            6563666631313465323335333663656662396134313264646137

        # MacBook air
        - address: "10.9.0.6/32"
          public_key: "7o/+BzRkc6oSj1msfB0G5lQTWo1dKYqqqASl6mG1Lkg="

        # Jacqueline iPhone
        - address: "10.9.0.133/32"
          public_key: "UXJMGC6uSr5YXSjpkQbenn4Di1Im4yAkb+9PnYAZ1HA="
          preshared_key: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            65356365393266323430396261343838653632396130666135393764623661663665653630613538
            3033363534353565316636383937646162313531613963640a313939666235363830663531346562
            39353065326230316436383531623965343437626532383435303833623739386234373131663737
            3632313165326563360a646436616536356462343938623131303630626361656133353665373737
            62343139653835356131643537656361616565643638326164316535306266636432633239663137
            3332393337396636343634656537353530313164646439616338
