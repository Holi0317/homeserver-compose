---
- name: "Setup traefik"
  hosts: "uranus"
  tags: "traefik"
  roles:
    - role: "traefik"
      traefik_email: !vault |
        $ANSIBLE_VAULT;1.1;AES256
        33386564663261326335646536316236346462366636356639633138663365643266646230313438
        3731666135616232363430333132636634323330663365320a353534353962316534316666373063
        30356338323231646661633030386235386366373539396461373666316333653564636261643966
        6537653330663462310a643035626538363034303333343534383031333162396433376332386534
        65656333313738626462336161633663363663383239323930373865386465366631

- name: "Setup ddns"
  hosts: "uranus"
  tags: "ddns"
  roles:
    - role: "ddns"
      ddns_cf_api_token: !vault |
        $ANSIBLE_VAULT;1.1;AES256
        32646531333432383738653766313633323861313233313636646436386139393338373539393736
        6565326632626235613261323363313232323738366431350a616363643736323430353961393965
        34383239346262343435643934346238316366663164653037343465383461366165653933643232
        6666663264613932380a616461633030326335343061666463643436333663663961366465653764
        66316630666134306464353336346433333561366131363938333438646234343930386164343664
        3035326164373839323332316165383663353137373532616662
      ddns_cf_zone_id: "28bf08c81be320e806685d4f21c6eeb0"
      ddns_domains:
        - "holi0317.net"
        - "git.holi0317.net"
        - "nc.holi0317.net"
        - "t.holi0317.net"
        - "syncthing.holi0317.net"
        - "auth.holi0317.net"
        - "minio.holi0317.net"
        - "console.minio.holi0317.net"
        - "music.holi0317.net"
        - "sftpgo.holi0317.net"

- name: "Setup authentik"
  hosts: "uranus"
  tags: "authentik"
  roles:
    - role: "authentik"
      authentik_domain: "auth.holi0317.net"
      authentik_secret_key: !vault |
        $ANSIBLE_VAULT;1.1;AES256
        33616265666132653334626565376138356630303839623465613436326534336232333165633036
        3664383264323536633161356132386433636166303337310a653632663032346561626134333438
        32333238666438313134316638636137623231303337366139306662613237373866303165326431
        6464353364616337380a356332393662346361373432326162333532663930366362666539656338
        66666637613935633130373833363465336463653263363564336538373664636565

      postgres_password: !vault |
        $ANSIBLE_VAULT;1.1;AES256
        31373961343638343630303335383861356162643432623634346136623863363135306336363832
        3132316632383136356561336161303431313436333239370a613439303465323561663963336165
        63383363336561393038336263306439646662386339656330633266633434616436303066376432
        6139396636323039610a353166653832386162626336656437333338643063323430313839636261
        65393665663238343935616632626332303531333062383831623934303535396432

      smtp_host: "email-smtp.ap-northeast-1.amazonaws.com"
      smtp_port: "465"
      smtp_user: !vault |
        $ANSIBLE_VAULT;1.1;AES256
        35343536386133323261313339623937633463326263306135633036333034313861316233366662
        6234313663306239633835393934323332393933303031330a393362376630316662313765353234
        66306566376439303434616265303230333034383161663063303364666138643237626265623436
        3939336666313038610a663762633462643730326634336435616165633334303236636235633136
        65366235633033326130366636383635373936633364633934323030643338343837
      smtp_password: !vault |
        $ANSIBLE_VAULT;1.1;AES256
        62323363383164653766633961616438643538383133646437633139613562326261336637383864
        3436363464373930633736666239366563626565333332390a396334336563316433373366396435
        32663962333836373566656364363237316239373366613733326337326362343662623665373434
        6466313633383430310a383762366165643864666435326261643132373935363632306431383530
        36623431393761363066653466346236333134643863643062613335353062393064636265366432
        3262633461656539313635653665613930643932303037653233

- name: "Setup minio"
  hosts: "uranus"
  tags: "minio"
  roles:
    - role: "minio"
      # I want minio to live in `/srv/minio` instead of `/srv/services/minio`
      storage_root: "/srv"
      minio_user: "admin"
      minio_password: !vault |
        $ANSIBLE_VAULT;1.1;AES256
        38666230643434303564643435373138316139616437326162636138636533333031653933323932
        3030363363616336633036623363396362383739316531340a626132303362323562653436343064
        32313831613538653436656561663466333032393865316266336435613764653366633530366239
        3333303630393839650a373362636632653830313138646339326630393864313837663762323036
        64613363333036383133306665633239353465636663616133396463653562383661

- name: "Setup gitea"
  hosts: "uranus"
  tags: "gitea"
  roles:
    - role: "gitea"
      postgres_password: !vault |
        $ANSIBLE_VAULT;1.1;AES256
        37333333316136326237653639646363373464376535366630396231623361626334353665643465
        3933653938643534353466653539666536303865626230660a366131386137636332626361343637
        62616465663234323564373564336434383161643162316438663961336666306338336331376131
        6335373466643833320a616230646463633062343036613439666439616437663139613562333533
        3839
      gitea_smtp_host: "email-smtp.ap-northeast-1.amazonaws.com:465"
      gitea_smtp_user: !vault |
        $ANSIBLE_VAULT;1.1;AES256
        35343536386133323261313339623937633463326263306135633036333034313861316233366662
        6234313663306239633835393934323332393933303031330a393362376630316662313765353234
        66306566376439303434616265303230333034383161663063303364666138643237626265623436
        3939336666313038610a663762633462643730326634336435616165633334303236636235633136
        65366235633033326130366636383635373936633364633934323030643338343837
      gitea_smtp_password: !vault |
        $ANSIBLE_VAULT;1.1;AES256
        62323363383164653766633961616438643538383133646437633139613562326261336637383864
        3436363464373930633736666239366563626565333332390a396334336563316433373366396435
        32663962333836373566656364363237316239373366613733326337326362343662623665373434
        6466313633383430310a383762366165643864666435326261643132373935363632306431383530
        36623431393761363066653466346236333134643863643062613335353062393064636265366432
        3262633461656539313635653665613930643932303037653233

- name: "Setup nextcloud"
  hosts: "uranus"
  tags: "nextcloud"
  roles:
    - role: "nextcloud"
      postgres_password: !vault |
        $ANSIBLE_VAULT;1.1;AES256
        64356636643033376438646161346566353062363264313832383865306237653263333864363562
        3337386262353433353430663434396639396561333338390a386136396638326434396261613866
        65343938373438343539326534643331613963316266623037353865643163306336376431323931
        3835306134343063360a313162343730323637663664343633383764376161623261336331333932
        3437

- name: "Setup transfer.sh"
  hosts: "uranus"
  tags: "transfer"
  roles:
    - role: "transfer"

- name: "Setup navidrome"
  hosts: "uranus"
  tags: "navidrome"
  roles:
    - role: "navidrome"

- name: "Setup syncthing"
  hosts: "uranus"
  tags: "syncthing"
  roles:
    - role: "syncthing"

- name: "Setup nfs"
  hosts: "uranus"
  tags: "nfs"
  roles:
    - role: "nfs"

- name: "Setup sftpgo"
  hosts: "uranus"
  tags: "sftpgo"
  roles:
    - role: "sftpgo"
