# holi0317.net
upstream holi0317.net {
  server synapse:8008;
  server 127.0.0.1 down;
}

server {
  server_name holi0317.net;
  listen 443 ssl http2 default_server;
  listen [::]:443 ssl http2 default_server;
  access_log /config/log/nginx/access.log;

  # Enable SSL-related config
  include /etc/nginx/ssl.conf;
  # Include proxy-related config
  include /etc/nginx/proxy.conf;
  client_max_body_size 10G;

  location = /.well-known/matrix/server {
    root /var/www/synapse;
  }

  location / {
    proxy_pass http://holi0317.net;
  }
}

# vim: set syntax=nginx:
